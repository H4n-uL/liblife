FrAD Codec Profile Specifications

Comprehensive technical specifications for Fourier Analogue-in-Digital encoding
profiles, defining operational parameters, constraints, and optimization targets
for various use cases.

PROFILE OVERVIEW

The FrAD format supports multiple encoding profiles, each optimized for specific
applications ranging from archival preservation to real-time streaming. Profiles
are identified by integer indices 0-7, with profiles 0, 1, and 4 currently
implemented and stable.

================================================================================
PROFILE 0 - DCT ARCHIVAL MODE
================================================================================

Classification:     Lossless, Transform-based, High-precision
Profile Index:      0x00
Recommended Usage:  Long-term archival storage, scientific applications,
                   audio analysis, extreme environment recording

Technical Parameters:
  Bit Depth:        12, 16, 24, 32, 48, 64 bits per sample
                   Signed integer and floating-point representations

  Sample Rate:      1 Hz to 4,294,967,295 Hz (2^32 - 1)
                   No restrictions on standard rates
                   Supports ultrasonic and infrasonic ranges

  Channel Count:    1 to 256 discrete channels
                   Arbitrary channel mapping supported
                   No predefined speaker configurations

  Frame Size:       1 to 4,294,967,295 samples per frame
                   Adaptive framing based on signal characteristics
                   Variable frame sizes within single file

Signal Processing:
  Transform:        Modified Discrete Cosine Transform Type-IV (MDCT-IV)
                   Overlapping window functions with perfect reconstruction
                   Kaiser-Bessel derived windows (β = 8.6)

  Quantization:     Psychoacoustic-aware bit allocation
                   Dynamic range preservation up to 144 dB
                   Noise shaping in frequency domain

  Compression:      Arithmetic coding of transform coefficients
                   Adaptive probability models
                   Typical ratio: 1.5:1 to 3:1 (signal-dependent)
                   WARNING: May expand for certain signals

Performance Characteristics:
  Encoding Speed:   0.1x to 0.5x real-time (CPU-dependent)
  Decoding Speed:   0.5x to 2x real-time
  Memory Usage:     O(n log n) where n = frame size
  Latency:          Frame size / sample rate seconds

================================================================================
PROFILE 1 - PSYCHOACOUSTIC LOSSY COMPRESSION
================================================================================

Classification:     Lossy, Perceptual, Low-complexity
Profile Index:      0x01
Recommended Usage:  General audio distribution, streaming media,
                   portable devices, bandwidth-constrained applications

Technical Parameters:
  Bit Depth:        8, 12, 16, 24, 32, 48, 64 bits per sample
                   Internal processing at 32-bit floating-point

  Sample Rate:      Limited to standard rates (Hz):
                   8000, 11025, 12000, 16000, 22050, 24000,
                   32000, 44100, 48000, 64000, 88200, 96000

  Channel Count:    1 to 8 channels
                   Predefined configurations:
                   1: Mono
                   2: Stereo (L, R)
                   4: Quadraphonic (FL, FR, BL, BR)
                   6: 5.1 Surround (FL, FR, C, LFE, BL, BR)
                   8: 7.1 Surround (FL, FR, C, LFE, BL, BR, SL, SR)

  Frame Size:       {128, 160, 192, 224} × 2^n samples
                   Where n ∈ {0, 1, 2, 3, 4, 5, 6, 7}
                   Resulting in 128 to 28,672 samples per frame

  Overlap Ratio:    0 (no overlap) or 1/k where k ∈ {2, 3, ..., 256}
                   Default: 1/16 (6.25% overlap)
                   Trade-off between quality and computational cost

Psychoacoustic Model:
  Masking:          Simultaneous and temporal masking curves
                   Based on ISO/IEC 11172-3 psychoacoustic model 2
                   Adaptive threshold calculation

  Quality Levels:   0 to 20 (lower is better)
                   0-3:   Transparent (>256 kbps @ 44.1kHz stereo)
                   4-8:   Near-transparent (128-256 kbps)
                   9-14:  Good quality (64-128 kbps)
                   15-20: Acceptable quality (32-64 kbps)

  Bit Allocation:   Dynamic based on perceptual entropy
                   Scale factor bands: 32 (long blocks), 12 (short blocks)
                   Huffman coding of quantized values

Performance Characteristics:
  Encoding Speed:   1x to 5x real-time
  Decoding Speed:   5x to 20x real-time
  Memory Usage:     O(n) where n = frame size
  Latency:          10-50 ms typical

================================================================================
PROFILE 2 - TEMPORAL NOISE SHAPING [EXPERIMENTAL]
================================================================================

Classification:     Experimental, Unstable, Not recommended
Profile Index:      0x02
Status:            Non-functional in current implementation

Planned Features:
  - Temporal noise shaping for improved transient response
  - Adaptive window switching
  - Linear predictive coding integration
  - Spectral band replication for high frequencies

Current State:
  Implementation is incomplete and will cause runtime errors.
  Do not use this profile in production systems.

================================================================================
PROFILE 3 - [RESERVED FOR FUTURE USE]
================================================================================

Classification:     Reserved
Profile Index:      0x03
Status:            Not implemented

Reserved for future codec enhancements.
Attempting to use this profile will result in an error.

================================================================================
PROFILE 4 - PCM ARCHIVAL MODE
================================================================================

Classification:     Lossless, Uncompressed, Bit-exact
Profile Index:      0x04
Recommended Usage:  General archival, production mastering,
                   scientific recordings, legal evidence

Technical Parameters:
  Bit Depth:        12, 16, 24, 32, 48, 64 bits per sample
                   Direct PCM storage without transformation

  Sample Rate:      1 Hz to 4,294,967,295 Hz
                   No resampling or rate conversion

  Channel Count:    1 to 256 discrete channels
                   Interleaved or planar storage modes

  Frame Size:       1 to 4,294,967,295 samples
                   Typically 2048 or 4096 for efficiency

Storage Format:
  Encoding:         Direct PCM copy with frame headers
  Compression:      None (1:1 storage ratio plus headers)
  Overhead:         ~0.1% for headers and frame markers
  Byte Order:       Big-endian (network byte order) by default
                   Little-endian option available

Advantages:
  - Bit-perfect reconstruction guaranteed
  - Minimal CPU requirements
  - Compatible with Reed-Solomon error correction
  - Suitable for legal and archival requirements
  - No generation loss in repeated encoding

Performance Characteristics:
  Encoding Speed:   Limited only by I/O bandwidth
  Decoding Speed:   Limited only by I/O bandwidth
  Memory Usage:     O(1) - minimal buffering required
  Latency:          < 1 ms typical

================================================================================
PROFILES 5-7 - [RESERVED FOR FUTURE USE]
================================================================================

Classification:     Reserved
Profile Index:      0x05 - 0x07
Status:            Not implemented

Reserved for future codec development.
Potential applications include:
  - Object-based audio encoding
  - Ambisonic and spatial audio formats
  - AI-enhanced compression
  - Quantum-resistant encryption layers

================================================================================
COMPATIBILITY MATRIX
================================================================================

Profile | Encode | Decode | Stability      | Recommendation
--------|--------|--------|----------------|------------------------
   0    |   ✓    |   ✓    | Stable         | Archival applications
   1    |   ✓    |   ✓    | Stable         | General use
   2    |   ✗    |   ✗    | Experimental   | Do not use
   3    |   ✗    |   ✗    | Reserved       | Not available
   4    |   ✓    |   ✓    | Stable         | Recommended default
  5-7   |   ✗    |   ✗    | Reserved       | Future use

Legend: ✓ = Fully supported, ✗ = Not supported

================================================================================
PROFILE SELECTION GUIDELINES
================================================================================

Choosing the Appropriate Profile:

1. For Archival Storage:
   - Profile 4: When bit-perfect accuracy is required
   - Profile 0: When moderate compression is acceptable
   - Both support full error correction capabilities

2. For Distribution:
   - Profile 1: Best balance of quality and file size
   - Adjustable quality levels for different bandwidths
   - Wide decoder compatibility

3. For Production:
   - Profile 4: During recording and editing
   - Profile 0: For processed/mastered content
   - Maintain highest quality throughout workflow

4. For Analysis:
   - Profile 4: Preserves all signal characteristics
   - Profile 0: When frequency-domain analysis is needed
   - Both maintain full dynamic range

================================================================================
TECHNICAL NOTES
================================================================================

1. Profile Identification:
   Profiles are identified in the file header using a single byte.
   Decoders must verify profile support before processing.

2. Forward Compatibility:
   Unknown profiles should be rejected with clear error messages.
   Future profiles will maintain header compatibility.

3. Transcoding:
   Direct transcoding between profiles is not recommended.
   Decode to PCM first, then re-encode with target profile.

4. Error Correction:
   All profiles support optional Reed-Solomon FEC.
   Recommended for archival and transmission applications.

5. Metadata:
   All profiles support full metadata capabilities.
   Metadata is stored independently of audio data.

================================================================================

For implementation details, see the FrAD technical specification.
For the latest profile updates, check the project repository.

Report bugs to: https://github.com/H4n-uL/liblife/issues